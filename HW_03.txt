Практическое задание №03


1. Создать файл file1 и наполнить его произвольным содержимым. Скопировать его в file2. Создать символическую ссылку file3 на file1. Создать жесткую ссылку file4 на file1. Посмотреть, какие айноды у файлов. Удалить file1. Что стало с остальными созданными файлами? Попробовать вывести их на экран.

cat file1
Произвольный текст
Ctrl+D
cp file1 file2
ln -s file1 file3
ln file1 file4
ls -li
655365 -rw-rw-r-- 2 fdmitry fdmitry 37 фев  1 14:57 file1
655376 -rw-rw-r-- 1 fdmitry fdmitry 37 фев  1 14:58 file2
655377 lrwxrwxrwx 1 fdmitry fdmitry  5 фев  1 15:00 file3 -> file1
655365 -rw-rw-r-- 2 fdmitry fdmitry 37 фев  1 14:57 file4
rm file1
ls -li
655376 -rw-rw-r-- 1 fdmitry fdmitry 37 фев  1 14:58 file2
655377 lrwxrwxrwx 1 fdmitry fdmitry  5 фев  1 15:00 file3 -> file1 (Не рабочий линк)
655365 -rw-rw-r-- 1 fdmitry fdmitry 37 фев  1 14:57 file4


-----------------------------

2. Дать созданным файлам другие, произвольные имена. Создать новую символическую ссылку. Переместить ссылки в другую директорию.

mv file1 newfile1
mv file2 newfile2
ln -s newfile1 newfile3
ln -s newfile2 newfile4
mkdir new
mv newfile3 new
mv newfile4 new

-----------------------------

3. Создать два произвольных файла. Первому присвоить права на чтение, запись для владельца и группы, только на чтение — для всех. Второму присвоить права на чтение, запись — только для владельца. Сделать это в численном и символьном виде.

cat > test01
новый файл
Ctrl+D
cat > test02
Второй файл
Ctrl+D
chmod 644 test01
-rw-rw-r-- 1 fdmitry fdmitry   20 фев  2 01:05 test01
chmod 000 test01
---------- 1 fdmitry fdmitry   20 фев  2 01:05 test01
chmod u+rw test01
chmod g+rw test01
chmod o+r test01
-rw-rw-r-- 1 fdmitry fdmitry   20 фев  2 01:05 test01
chmod 600 test02
-rw------- 1 fdmitry fdmitry   22 фев  2 01:10 test02
chmod 000 test02
---------- 1 fdmitry fdmitry   22 фев  2 01:10 test02
chmod u+rw test02
-rw------- 1 fdmitry fdmitry   22 фев  2 01:10 test02

-----------------------------

4. Создать пользователя, обладающего возможностью выполнять действия от имени суперпользователя.

sudo useradd -ou 0 -g 0 newuser
sudo passwd newuser
newuser:x:0:0::/home/newuser:/bin/sh

-----------------------------

5. * Создать группу developer и несколько пользователей, входящих в нее. Создать директорию для совместной работы. Сделать так, чтобы созданные одними пользователями файлы могли изменять другие пользователи этой группы.


sudo groupadd developer
sudo useradd -m -G developer -s /bin/bash ivan
sudo useradd -m -G developer -s /bin/bash anton
sudo passwd newuser
newuser:x:0:0::/home/newuser:/bin/sh
ivan:x:1001:1002::/home/ivan:/bin/bash
anton:x:1002:1003::/home/anton:/bin/bash
groups ivan
ivan : ivan developer
groups anton
anton : anton developer
mkdir -p share
chmod -R 2775 share




-----------------------------

6. * Создать в директории для совместной работы поддиректорию для обмена файлами, но чтобы удалять файлы могли только их создатели.

cd share
mkdir work
chmod +t work


-----------------------------

7. * Создать директорию, в которой есть несколько файлов. Сделать так, чтобы открыть файлы можно было, только зная имя файла, а через ls список файлов посмотреть было нельзя.

cd work
touch test1
touch test2
touch test3
chmod -R 755 test{1..3}
-rwxr-xr-x 1 fdmitry fdmitry   71 фев  2 17:38 test1*
-rwxr-xr-x 1 fdmitry fdmitry   71 фев  2 17:38 test2*
-rwxr-xr-x 1 fdmitry fdmitry   71 фев  2 17:38 test3*
cd ..
chmod 111 work
d--x--x--x 2 fdmitry fdmitry 4096 фев  2 01:58 work/
fdmitry@Lin:~/Lesson/test/share$ cd work/
fdmitry@Lin:~/Lesson/test/share/work$ ll
ls: невозможно открыть каталог '.': Отказано в доступе




